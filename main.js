!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,r)=>{const n=t.id+"-error",o=e.querySelector("#"+n);o&&(o.textContent=""),t.classList.remove(r.inputErrorClass)},r=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},n=(e,t,n)=>{(e=>e.some(e=>!e.validity.valid))(e)?r(t,n):((e,t)=>{e.disabled=!1,e.classList.remove(t.inactiveButtonClass)})(t,n)},o=e=>{document.querySelectorAll(e.formSelector).forEach(r=>{((e,r)=>{const o=Array.from(e.querySelectorAll(r.inputSelector)),a=e.querySelector(r.submitButtonSelector);n(o,a,r),o.forEach(s=>{s.addEventListener("input",function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{const o=t.id+"-error",a=e.querySelector("#"+o);a&&(a.textContent=r),t.classList.add(n.inputErrorClass)})(e,r,r.validationMessage,n)})(e,s,r),n(o,a,r)})})})(r,e)})};o(e);const a=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}addCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse)}DeleteCard({id:e}){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}ChangeLikes({id:e,isLiked:t}){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse)}editAvatar({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f30ceff3-b3e8-42fb-ae90-fe3a587f05fd","Content-Type":"application/json"}}),s=document.querySelector(".profile__edit-btn"),c=document.querySelector("#edit-profile-modal"),i=c.querySelector(".modal__close-btn"),l=c.querySelector(".modal__form"),d=c.querySelector("#profile-name-input"),u=c.querySelector("#profile-description-input"),_=document.querySelector(".profile__avatar"),m=document.querySelector(".profile__name"),h=document.querySelector(".profile__description"),v=document.querySelector(".profile__add-btn"),f=document.querySelector("#new-post-modal"),p=f.querySelector(".modal__close-btn"),S=f.querySelector(".modal__form"),y=f.querySelector("#card-image-input"),b=f.querySelector("#card-caption-input"),q=document.querySelector(".cards__list"),E=document.querySelector("#preview-modal"),L=E.querySelector(".modal__close_type_preview"),k=E.querySelector(".modal__image"),C=E.querySelector(".modal__caption"),g=document.querySelector("#card-template").content.querySelector(".card"),U=document.querySelector("#delete-modal"),A=document.querySelector(".modal__delete-btn"),x=U.querySelector(".modal__submit-btn");let $,D;function w(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&P(e)}}function I(e){e.target.classList.contains("modal_is-opened")&&P(e.target)}function R(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",w),e.addEventListener("click",I)}function P(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",w),e.removeEventListener("click",I)}document.querySelector(".modal__close-btn-position").addEventListener("click",function(){P(U)}),x.addEventListener("click",function(){P(U)}),a.getUserInfo().then(e=>{m.textContent=e.name,h.textContent=e.about,_.src=e.avatar,console.log(e)}).catch(e=>{console.error(e)}),a.getInitialCards().then(e=>{e.forEach(t=>{const r=j(t);q.append(r),console.log(e)})}).catch(e=>{console.error(e)}),s.addEventListener("click",function(){((e,n)=>{const o=Array.from(e.querySelectorAll(n.inputSelector)),a=e.querySelector(n.submitButtonSelector);o.forEach(r=>{t(e,r,n)}),r(a,n)})(l,e),R(c),d.value=m.textContent,u.value=h.textContent}),i.addEventListener("click",function(){P(c)}),L.addEventListener("click",function(){P(E)}),v.addEventListener("click",function(){R(f)}),p.addEventListener("click",function(){P(f)}),l.addEventListener("submit",function(e){e.preventDefault(),a.editUserInfo({name:d.value,about:u.value}).then(e=>{m.textContent=e.name,h.textContent=e.about,P(c)}).catch(e=>{console.error(e)})}),S.addEventListener("submit",function(t){t.preventDefault();const r={name:b.value,link:y.value};a.addCard(r).then(r=>{const n=j(r);q.prepend(n),P(f),t.target.reset(),o(e)}).catch(e=>{console.error(e)})}),A.addEventListener("click",function(e){e.preventDefault(),a.DeleteCard({id:$}).then(()=>{D.remove(),P(U)}).catch(e=>{console.error(e)})});const T=document.querySelector("#modal__avatar"),B=document.querySelector(".profile__avatar-btn"),N=document.querySelector(".submit-avatar-btn"),O=document.querySelector("#Avatar-image-input");function j(e){const t=g.cloneNode(!0),r=t.querySelector(".card__title"),n=t.querySelector(".card__image"),o=t.querySelector(".card__like-btn"),s=t.querySelector(".card__delete");return n.src=e.link,n.alt=e.name,r.textContent=e.name,e.isLiked&&o.classList.add("card__like-btn_active"),o.addEventListener("click",()=>{const t=o.classList.contains("card__like-btn_active");a.ChangeLikes({id:e._id,isLiked:t}).then(()=>{o.classList.toggle("card__like-btn_active")}).catch(e=>{console.error("Error updating like status:",e)})}),s.addEventListener("click",function(){$=e._id,D=t,R(U)}),n.addEventListener("click",function(){k.src=e.link,k.alt=e.name,C.textContent=e.name,R(E)}),t}T.querySelector(".modal__close-btn").addEventListener("click",function(){P(T)}),B.addEventListener("click",function(e){e.preventDefault(),R(T)}),N.addEventListener("click",function(e){e.preventDefault();const t=O.value;console.log("Starting avatar update with:",t),console.log("Current profileAvatar:",_),a.editAvatar({avatar:t}).then(e=>{console.log("API call resolved successfully:",e),_.src=t,P(T)}).catch(e=>{console.log("API call failed with error:",e),console.error("Error details:",e.response?.data||e.message)})}),o(e)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxFQUFJK0IsVUFBVVgsTUFBUXBCLEVBQUlnQyxVQUVoRSxHQXNEQTFILEVBQWlCOUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idG5cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bl9kaXNhYmxlZFwiLCAvLyBVcGRhdGVkIGNsYXNzIG5hbWUgdG8gbWF0Y2ggdXNhZ2VcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWwucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gIH0pO1xuICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dJRCA9IGlucHV0RWwuaWQgKyBcIi1lcnJvclwiO1xuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBlcnJvck1zZ0lEKTtcbiAgaWYgKGVycm9yTXNnRWwpIHtcbiAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XG4gIH1cbiAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dJRCA9IGlucHV0RWwuaWQgKyBcIi1lcnJvclwiO1xuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBlcnJvck1zZ0lEKTtcbiAgaWYgKGVycm9yTXNnRWwpIHtcbiAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+ICFpbnB1dC52YWxpZGl0eS52YWxpZCk7XG59O1xuXG5jb25zdCBlbmFibGVCdXR0b24gPSAoYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICBidXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbn07XG5cbmNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XG4gIGJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xufTtcblxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbCwgY29uZmlnKSA9PiB7XG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWwsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgZW5hYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWwsIGNvbmZpZykgPT4ge1xuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWwucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcblxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcblxuLy9vbmx5IGV4cG9ydGVkIHNldHRpbmdzICYgZW5hYmxlVmFsaWRhdGlvblxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb24sXG4gIHNldHRpbmdzLFxuICByZXNldFZhbGlkYXRpb24sXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuXG4vL3RoaXMgY29kZSByZWZlcnMgdG8gQXBpLmpzXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJmMzBjZWZmMy1iM2U4LTQyZmItYWU5MC1mZTNhNTg3ZjA1ZmRcIiwgLy8gUmVwbGFjZSB3aXRoIHlvdXIgYWN0dWFsIHRva2VuXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gQWxsIERPTSBlbGVtZW50IHNlbGVjdGlvbnMgbW92ZWQgdG8gdGhlIHRvcCB0byBmaXggUmVmZXJlbmNlRXJyb3JzXG5jb25zdCBlZGl0UHJvZmlsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XG5jb25zdCBlZGl0UHJvZmlsZUNsb3NlQnRuID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5jb25zdCBlZGl0UHJvZmlsZUZvcm1FbCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLW5hbWUtaW5wdXRcIlxuKTtcbmNvbnN0IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuY29uc3QgbmV3UG9zdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcbmNvbnN0IG5ld1Bvc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LXBvc3QtbW9kYWxcIik7XG5jb25zdCBuZXdQb3N0Q2xvc2VCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuY29uc3QgZWRpdFBvc3RGb3JtRWwgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRQb3N0TmFtZUlucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1pbWFnZS1pbnB1dFwiKTtcbmNvbnN0IGVkaXRQb3N0RGVzY3JpcHRpb25JbnB1dCA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNjYXJkLWNhcHRpb24taW5wdXRcIlxuKTtcbmNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbi8vZGVjbGFyZSB0aGUgeCBidXR0b24gdGhyb3VnaCBpZFxuY29uc3QgcHJldmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LW1vZGFsXCIpO1xuY29uc3QgcHJldmlld01vZGFsQ2xvc2VCdG4gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2Nsb3NlX3R5cGVfcHJldmlld1wiXG4pO1xuY29uc3QgcHJldmlld0ltYWdlRWwgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5jb25zdCBwcmV2aWV3TmFtZUVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpXG4gIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbmNvbnN0IERlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XG5jb25zdCBEZWxldGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19kZWxldGUtYnRuXCIpO1xuY29uc3QgQ2FuY2VsQnRuID0gRGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ0blwiKTtcbmNvbnN0IENsb3NlQnRuRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuLXBvc2l0aW9uXCIpO1xuXG4vL2Z1bmNhdGlvbmFsaXR5IGFkZGVkIHRvIGNsb3NlIGJ1dHRvblxuQ2xvc2VCdG5EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChEZWxldGVNb2RhbCk7XG59KTtcblxuLy9mdW5jdGlvbmFsaXR5IGFkZGVkIHRvIGNhbmNlbCBidXR0b24gaGVyZVxuQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNsb3NlTW9kYWwoRGVsZXRlTW9kYWwpO1xufSk7XG5cbi8vIFZhcmlhYmxlcyB0byBzdG9yZSB0aGUgc2VsZWN0ZWQgY2FyZCBmb3IgZGVsZXRpb25cbmxldCBzZWxlY3RlZENhcmRJZDtcbmxldCBzZWxlY3RlZENhcmQ7XG5cbi8vIDEuIExvYWRpbmcgdXNlciBpbmZvIGZyb20gdGhlIHNlcnZlclxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcbiAgICBwcm9maWxlQXZhdGFyLnNyYyA9IHVzZXJEYXRhLmF2YXRhcjtcbiAgICBjb25zb2xlLmxvZyh1c2VyRGF0YSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuLy8gMi4gTG9hZGluZyBjYXJkcyBmcm9tIHRoZSBzZXJ2ZXJcbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKENhcmRzc0RhdGEpID0+IHtcbiAgICBDYXJkc3NEYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmRFbCA9IGdldENhcmRFbGVtZW50KGl0ZW0pO1xuICAgICAgY2FyZExpc3QuYXBwZW5kKGNhcmRFbCk7XG4gICAgICBjb25zb2xlLmxvZyhDYXJkc3NEYXRhKTtcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG4vLyBOZXcgRnVuY3Rpb25zXG5mdW5jdGlvbiBoYW5kbGVFc2NhcGVLZXkoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgY29uc3Qgb3BlbmVkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX2lzLW9wZW5lZFwiKTtcbiAgICBpZiAob3BlbmVkTW9kYWwpIHtcbiAgICAgIGNsb3NlTW9kYWwob3BlbmVkTW9kYWwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVPdmVybGF5Q2xpY2soZXZ0KSB7XG4gIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX2lzLW9wZW5lZFwiKSkge1xuICAgIGNsb3NlTW9kYWwoZXZ0LnRhcmdldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdmVybGF5Q2xpY2spO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XG4gIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdmVybGF5Q2xpY2spO1xufVxuXG4vLyBFZGl0IFByb2ZpbGUgQnV0dG9uIExpc3RlbmVyc1xuZWRpdFByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgcmVzZXRWYWxpZGF0aW9uKGVkaXRQcm9maWxlRm9ybUVsLCBzZXR0aW5ncywgW1xuICAgIGVkaXRQcm9maWxlTmFtZUlucHV0LFxuICAgIGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcbiAgXSk7XG4gIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbiAgZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcbiAgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50O1xufSk7XG5cbmVkaXRQcm9maWxlQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbn0pO1xuXG4vL2Nsb3NlIHByZXZpZXcgYnV0dG9uIGV2ZW50IGFkZGVkXG5wcmV2aWV3TW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XG59KTtcblxuLy8gTmV3IFBvc3QgQnV0dG9uIExpc3RlbmVyc1xubmV3UG9zdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcbn0pO1xuXG5uZXdQb3N0Q2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xufSk7XG5cbi8vIEVkaXQgUHJvZmlsZSBhZGRpbmcgZnVuY3Rpb25hbGl0eVxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhcGlcbiAgICAuZWRpdFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IGVkaXRQcm9maWxlTmFtZUlucHV0LnZhbHVlLFxuICAgICAgYWJvdXQ6IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSxcbiAgICB9KVxuICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xuICAgICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7XG4gICAgICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KTtcbn1cbmVkaXRQcm9maWxlRm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xuXG4vLyBOZXcgUG9zdCBhZGRpbmcgZnVuY3Rpb25hbGl0eVxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGlucHV0VmFsdWVzID0ge1xuICAgIG5hbWU6IGVkaXRQb3N0RGVzY3JpcHRpb25JbnB1dC52YWx1ZSxcbiAgICBsaW5rOiBlZGl0UG9zdE5hbWVJbnB1dC52YWx1ZSxcbiAgfTtcbiAgYXBpXG4gICAgLmFkZENhcmQoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKG5ld0NhcmREYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KG5ld0NhcmREYXRhKTtcbiAgICAgIGNhcmRMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuICAgICAgY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xuICAgICAgZXZ0LnRhcmdldC5yZXNldCgpO1xuICAgICAgZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pO1xufVxuZWRpdFBvc3RGb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcblxuLy9EZWxldGVCdG4gaXMgdGhlIG9uZSB3ZSB3YW50IHRvIGFkZCBldmVudCBjbGljayBhbmQgcnVuIGFwaS5EZWxldGVDYXJkXG5EZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhcGlcbiAgICAuRGVsZXRlQ2FyZCh7IGlkOiBzZWxlY3RlZENhcmRJZCB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgY2FyZCBlbGVtZW50IGZyb20gdGhlIERPTSBhZnRlciBzdWNjZXNzZnVsIGRlbGV0aW9uLlxuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xuICAgICAgLy8gQ2xvc2UgdGhlIG1vZGFsLlxuICAgICAgY2xvc2VNb2RhbChEZWxldGVNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pO1xufSk7XG5cbi8vQXJlIHlvdSBzdXJlIE1vZGFsXG5cbi8vRWRpdHByb2ZpbGVhdmF0YXIgKE1FQU5UIFRPIE9QRU4gQSBNT0RBTClcbmNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9fYXZhdGFyXCIpO1xuY29uc3QgcHJvZmlsZWF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ0blwiKTtcbi8vU3VibWl0IEF2YXRhciBsaW5rIEJ1dHRvbiAoc2VuZHMgYSBhcGkgcmVxdWVzdCB0byByZXBsYWNlIHRoZSBpbWFnZS9hdmF0YXI6aW1hZ2UpXG5jb25zdCBTdWJtaXRCdXR0b25BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1hdmF0YXItYnRuXCIpO1xuY29uc3QgZWRpdEF2YXRhcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNBdmF0YXItaW1hZ2UtaW5wdXRcIik7XG4vL2RlY2xhcmVkXG4vL2F2YXRhck1vZGFsID0gbW9kYWwgZGl2XG5jb25zdCBYQnV0dG9uQXZhdGFyID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuXG4vL2Nsb3NlIGF2YXRhciBidXR0b24gZXZlbnQgYWRkZWRcblhCdXR0b25BdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChhdmF0YXJNb2RhbCk7XG59KTtcblxuLy9hZGQgZXZlbnRsaXN0bmVyIHRvIGF2YXRlciBlZGl0XG5wcm9maWxlYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgLy8gc3RvcCB0aGUgcGFnZSB0byByZWxvYWRcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgLy8gb3BlbnMgYXZhdGFyTW9kYWxcbiAgb3Blbk1vZGFsKGF2YXRhck1vZGFsKTtcbn0pO1xuXG5TdWJtaXRCdXR0b25BdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnN0IHVybGF2YXRhciA9IGVkaXRBdmF0YXJJbnB1dC52YWx1ZTtcbiAgY29uc29sZS5sb2coXCJTdGFydGluZyBhdmF0YXIgdXBkYXRlIHdpdGg6XCIsIHVybGF2YXRhcik7XG4gIGNvbnNvbGUubG9nKFwiQ3VycmVudCBwcm9maWxlQXZhdGFyOlwiLCBwcm9maWxlQXZhdGFyKTtcblxuICBhcGlcbiAgICAuZWRpdEF2YXRhcih7IGF2YXRhcjogdXJsYXZhdGFyIH0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkFQSSBjYWxsIHJlc29sdmVkIHN1Y2Nlc3NmdWxseTpcIiwgcmVzcG9uc2UpO1xuICAgICAgLy8gSW5zdGVhZCBvZiByZWFzc2lnbmluZywgdXBkYXRlIHRoZSBzcmMgYXR0cmlidXRlXG4gICAgICBwcm9maWxlQXZhdGFyLnNyYyA9IHVybGF2YXRhcjtcbiAgICAgIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQVBJIGNhbGwgZmFpbGVkIHdpdGggZXJyb3I6XCIsIGVycik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGV0YWlsczpcIiwgZXJyLnJlc3BvbnNlPy5kYXRhIHx8IGVyci5tZXNzYWdlKTtcbiAgICB9KTtcbn0pO1xuXG4vLyBNYWtlIEdldCBDYXJkIEZ1bmN0aW9uXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgY2FyZFRpdGxlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICBjb25zdCBjYXJkSW1hZ2VFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGNhcmRMaWtlYnRuRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpO1xuICBjb25zdCBjYXJkZGVsZXRlYnRuID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIik7XG5cbiAgLy8gU2V0IHRoZSBpbWFnZSBhbmQgdGl0bGUgZnJvbSB0aGUgZGF0YVxuICBjYXJkSW1hZ2VFbC5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcbiAgY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG5cbiAgLy8gU2V0IGluaXRpYWwgbGlrZSBzdGF0ZSBiYXNlZCBvbiBzZXJ2ZXIgZGF0YVxuICBpZiAoZGF0YS5pc0xpa2VkKSB7XG4gICAgY2FyZExpa2VidG5FbC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idG5fYWN0aXZlXCIpO1xuICB9XG5cbiAgLy8gTGlrZS9Vbmxpa2UgZnVuY3Rpb25hbGl0eVxuICBjYXJkTGlrZWJ0bkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY29uc3QgaXNDdXJyZW50bHlMaWtlZCA9IGNhcmRMaWtlYnRuRWwuY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIlxuICAgICk7XG4gICAgYXBpXG4gICAgICAuQ2hhbmdlTGlrZXMoeyBpZDogZGF0YS5faWQsIGlzTGlrZWQ6IGlzQ3VycmVudGx5TGlrZWQgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZExpa2VidG5FbC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGxpa2Ugc3RhdHVzOlwiLCBlcnJvcik7XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRGVsZXRlIGNhcmQgZnVuY3Rpb25hbGl0eVxuICBjYXJkZGVsZXRlYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZWN0ZWRDYXJkSWQgPSBkYXRhLl9pZDtcbiAgICBzZWxlY3RlZENhcmQgPSBjYXJkRWxlbWVudDtcbiAgICBvcGVuTW9kYWwoRGVsZXRlTW9kYWwpO1xuICB9KTtcblxuICAvLyBQcmV2aWV3IGZ1bmN0aW9uYWxpdHlcbiAgY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBwcmV2aWV3SW1hZ2VFbC5zcmMgPSBkYXRhLmxpbms7XG4gICAgcHJldmlld0ltYWdlRWwuYWx0ID0gZGF0YS5uYW1lO1xuICAgIHByZXZpZXdOYW1lRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgb3Blbk1vZGFsKHByZXZpZXdNb2RhbCk7XG4gIH0pO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuLy8gcHJvZmlsZUF2YXRhclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG4iLCIvLyB1dGlscy9BcGkuanNcblxuY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgRGVsZXRlQ2FyZCh7IGlkIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgQ2hhbmdlTGlrZXMoeyBpZCwgaXNMaWtlZCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZWRpdEF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbCIsImlucHV0RWwiLCJjb25maWciLCJlcnJvck1zZ0lEIiwiaWQiLCJlcnJvck1zZ0VsIiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZGlzYWJsZUJ1dHRvbiIsImJ1dHRvbkVsIiwiZGlzYWJsZWQiLCJhZGQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsInNvbWUiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJlbmFibGVCdXR0b24iLCJlbmFibGVWYWxpZGF0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInNldEV2ZW50TGlzdGVuZXJzIiwiQXJyYXkiLCJmcm9tIiwiYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhcGkiLCJjb25zdHJ1Y3RvciIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfaGFuZGxlU2VydmVyUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsInRoZW4iLCJnZXRJbml0aWFsQ2FyZHMiLCJlZGl0VXNlckluZm8iLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZENhcmQiLCJsaW5rIiwiRGVsZXRlQ2FyZCIsIkNoYW5nZUxpa2VzIiwiaXNMaWtlZCIsImVkaXRBdmF0YXIiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwiZWRpdFByb2ZpbGVCdG4iLCJlZGl0UHJvZmlsZU1vZGFsIiwiZWRpdFByb2ZpbGVDbG9zZUJ0biIsImVkaXRQcm9maWxlRm9ybUVsIiwiZWRpdFByb2ZpbGVOYW1lSW5wdXQiLCJlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJwcm9maWxlQXZhdGFyIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJuZXdQb3N0QnRuIiwibmV3UG9zdE1vZGFsIiwibmV3UG9zdENsb3NlQnRuIiwiZWRpdFBvc3RGb3JtRWwiLCJlZGl0UG9zdE5hbWVJbnB1dCIsImVkaXRQb3N0RGVzY3JpcHRpb25JbnB1dCIsImNhcmRMaXN0IiwicHJldmlld01vZGFsIiwicHJldmlld01vZGFsQ2xvc2VCdG4iLCJwcmV2aWV3SW1hZ2VFbCIsInByZXZpZXdOYW1lRWwiLCJjYXJkVGVtcGxhdGUiLCJjb250ZW50IiwiRGVsZXRlTW9kYWwiLCJEZWxldGVCdG4iLCJDYW5jZWxCdG4iLCJzZWxlY3RlZENhcmRJZCIsInNlbGVjdGVkQ2FyZCIsImhhbmRsZUVzY2FwZUtleSIsImV2dCIsImtleSIsIm9wZW5lZE1vZGFsIiwiY2xvc2VNb2RhbCIsImhhbmRsZU92ZXJsYXlDbGljayIsInRhcmdldCIsImNvbnRhaW5zIiwib3Blbk1vZGFsIiwibW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXNlckRhdGEiLCJzcmMiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsIkNhcmRzc0RhdGEiLCJpdGVtIiwiY2FyZEVsIiwiZ2V0Q2FyZEVsZW1lbnQiLCJhcHBlbmQiLCJyZXNldFZhbGlkYXRpb24iLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRWYWx1ZXMiLCJuZXdDYXJkRGF0YSIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsInJlc2V0IiwiZXZlbnQiLCJhdmF0YXJNb2RhbCIsInByb2ZpbGVhdmF0YXJCdXR0b24iLCJTdWJtaXRCdXR0b25BdmF0YXIiLCJlZGl0QXZhdGFySW5wdXQiLCJkYXRhIiwiY2xvbmVOb2RlIiwiY2FyZFRpdGxlRWwiLCJjYXJkSW1hZ2VFbCIsImNhcmRMaWtlYnRuRWwiLCJjYXJkZGVsZXRlYnRuIiwiYWx0IiwiaXNDdXJyZW50bHlMaWtlZCIsIl9pZCIsInRvZ2dsZSIsInVybGF2YXRhciIsInJlc3BvbnNlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=