!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,r)=>{const n=t.id+"-error",o=e.querySelector("#"+n);o&&(o.textContent=""),t.classList.remove(r.inputErrorClass)},r=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},n=(e,t,n)=>{(e=>e.some(e=>!e.validity.valid))(e)?r(t,n):((e,t)=>{e.disabled=!1,e.classList.remove(t.inactiveButtonClass)})(t,n)},o=e=>{document.querySelectorAll(e.formSelector).forEach(r=>{((e,r)=>{const o=Array.from(e.querySelectorAll(r.inputSelector)),a=e.querySelector(r.submitButtonSelector);n(o,a,r),o.forEach(s=>{s.addEventListener("input",function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{const o=t.id+"-error",a=e.querySelector("#"+o);a&&(a.textContent=r),t.classList.add(n.inputErrorClass)})(e,r,r.validationMessage,n)})(e,s,r),n(o,a,r)})})})(r,e)})};o(e);const a=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}addCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse)}DeleteCard({id:e}){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}ChangeLikes({id:e,isLiked:t}){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse)}editAvatar({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f30ceff3-b3e8-42fb-ae90-fe3a587f05fd","Content-Type":"application/json"}}),s=document.querySelector(".profile__edit-btn"),c=document.querySelector("#edit-profile-modal"),i=c.querySelector(".modal__close-btn"),l=c.querySelector(".modal__form"),d=c.querySelector("#profile-name-input"),u=c.querySelector("#profile-description-input"),_=document.querySelector(".profile__avatar"),m=document.querySelector(".profile__name"),h=document.querySelector(".profile__description"),v=document.querySelector(".profile__add-btn"),f=document.querySelector("#new-post-modal"),p=f.querySelector(".modal__close-btn"),S=f.querySelector(".modal__form"),y=f.querySelector("#card-image-input"),b=f.querySelector("#card-caption-input"),q=document.querySelector(".cards__list"),E=document.querySelector("#preview-modal"),L=E.querySelector(".modal__close_type_preview"),k=E.querySelector(".modal__image"),C=E.querySelector(".modal__caption"),g=document.querySelector("#card-template").content.querySelector(".card"),U=document.querySelector("#delete-modal"),A=document.querySelector(".modal__delete-btn"),x=U.querySelector(".modal__submit-btn2");let $,D;function w(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&P(e)}}function I(e){e.target.classList.contains("modal_is-opened")&&P(e.target)}function R(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",w),e.addEventListener("click",I)}function P(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",w),e.removeEventListener("click",I)}document.querySelector(".modal__close-btn-position").addEventListener("click",function(){P(U)}),x.addEventListener("click",function(){P(U)}),a.getUserInfo().then(e=>{m.textContent=e.name,h.textContent=e.about,_.src=e.avatar,console.log(e)}).catch(e=>{console.error(e)}),a.getInitialCards().then(e=>{e.forEach(t=>{const r=j(t);q.append(r),console.log(e)})}).catch(e=>{console.error(e)}),s.addEventListener("click",function(){((e,n)=>{const o=Array.from(e.querySelectorAll(n.inputSelector)),a=e.querySelector(n.submitButtonSelector);o.forEach(r=>{t(e,r,n)}),r(a,n)})(l,e),R(c),d.value=m.textContent,u.value=h.textContent}),i.addEventListener("click",function(){P(c)}),L.addEventListener("click",function(){P(E)}),v.addEventListener("click",function(){R(f)}),p.addEventListener("click",function(){P(f)}),l.addEventListener("submit",function(e){e.preventDefault(),a.editUserInfo({name:d.value,about:u.value}).then(e=>{m.textContent=e.name,h.textContent=e.about,P(c)}).catch(e=>{console.error(e)})}),S.addEventListener("submit",function(t){t.preventDefault();const r={name:b.value,link:y.value};a.addCard(r).then(r=>{const n=j(r);q.prepend(n),P(f),t.target.reset(),o(e)}).catch(e=>{console.error(e)})}),A.addEventListener("click",function(e){e.preventDefault(),a.DeleteCard({id:$}).then(()=>{D.remove(),P(U)}).catch(e=>{console.error(e)})});const T=document.querySelector("#modal__avatar"),B=document.querySelector(".profile__avatar-btn"),N=document.querySelector(".submit-avatar-btn"),O=document.querySelector("#Avatar-image-input");function j(e){const t=g.cloneNode(!0),r=t.querySelector(".card__title"),n=t.querySelector(".card__image"),o=t.querySelector(".card__like-btn"),s=t.querySelector(".card__delete");return n.src=e.link,n.alt=e.name,r.textContent=e.name,e.isLiked&&o.classList.add("card__like-btn_active"),o.addEventListener("click",()=>{const t=o.classList.contains("card__like-btn_active");a.ChangeLikes({id:e._id,isLiked:t}).then(()=>{o.classList.toggle("card__like-btn_active")}).catch(e=>{console.error("Error updating like status:",e)})}),s.addEventListener("click",function(){$=e._id,D=t,R(U)}),n.addEventListener("click",function(){k.src=e.link,k.alt=e.name,C.textContent=e.name,R(E)}),t}T.querySelector(".modal__close-btn").addEventListener("click",function(){P(T)}),B.addEventListener("click",function(e){e.preventDefault(),R(T)}),N.addEventListener("click",function(e){e.preventDefault();const t=O.value;console.log("Starting avatar update with:",t),console.log("Current profileAvatar:",_),a.editAvatar({avatar:t}).then(e=>{console.log("API call resolved successfully:",e),_.src=t,P(T)}).catch(e=>{console.log("API call failed with error:",e),console.error("Error details:",e.response?.data||e.message)})}),o(e)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxFQUFJK0IsVUFBVVgsTUFBUXBCLEVBQUlnQyxVQUVoRSxHQXNEQTFILEVBQWlCOUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idG5cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bl9kaXNhYmxlZFwiLCAvLyBVcGRhdGVkIGNsYXNzIG5hbWUgdG8gbWF0Y2ggdXNhZ2VcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWwucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gIH0pO1xuICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dJRCA9IGlucHV0RWwuaWQgKyBcIi1lcnJvclwiO1xuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBlcnJvck1zZ0lEKTtcbiAgaWYgKGVycm9yTXNnRWwpIHtcbiAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XG4gIH1cbiAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dJRCA9IGlucHV0RWwuaWQgKyBcIi1lcnJvclwiO1xuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBlcnJvck1zZ0lEKTtcbiAgaWYgKGVycm9yTXNnRWwpIHtcbiAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+ICFpbnB1dC52YWxpZGl0eS52YWxpZCk7XG59O1xuXG5jb25zdCBlbmFibGVCdXR0b24gPSAoYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICBidXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbn07XG5cbmNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XG4gIGJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xufTtcblxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbCwgY29uZmlnKSA9PiB7XG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWwsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgZW5hYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWwsIGNvbmZpZykgPT4ge1xuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWwucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcblxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsLCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcblxuLy9vbmx5IGV4cG9ydGVkIHNldHRpbmdzICYgZW5hYmxlVmFsaWRhdGlvblxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb24sXG4gIHNldHRpbmdzLFxuICByZXNldFZhbGlkYXRpb24sXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuXG4vL3RoaXMgY29kZSByZWZlcnMgdG8gQXBpLmpzXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJmMzBjZWZmMy1iM2U4LTQyZmItYWU5MC1mZTNhNTg3ZjA1ZmRcIiwgLy8gUmVwbGFjZSB3aXRoIHlvdXIgYWN0dWFsIHRva2VuXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gQWxsIERPTSBlbGVtZW50IHNlbGVjdGlvbnMgbW92ZWQgdG8gdGhlIHRvcCB0byBmaXggUmVmZXJlbmNlRXJyb3JzXG5jb25zdCBlZGl0UHJvZmlsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XG5jb25zdCBlZGl0UHJvZmlsZUNsb3NlQnRuID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5jb25zdCBlZGl0UHJvZmlsZUZvcm1FbCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLW5hbWUtaW5wdXRcIlxuKTtcbmNvbnN0IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuY29uc3QgbmV3UG9zdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcbmNvbnN0IG5ld1Bvc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LXBvc3QtbW9kYWxcIik7XG5jb25zdCBuZXdQb3N0Q2xvc2VCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuY29uc3QgZWRpdFBvc3RGb3JtRWwgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRQb3N0TmFtZUlucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1pbWFnZS1pbnB1dFwiKTtcbmNvbnN0IGVkaXRQb3N0RGVzY3JpcHRpb25JbnB1dCA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNjYXJkLWNhcHRpb24taW5wdXRcIlxuKTtcbmNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbi8vZGVjbGFyZSB0aGUgeCBidXR0b24gdGhyb3VnaCBpZFxuY29uc3QgcHJldmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LW1vZGFsXCIpO1xuY29uc3QgcHJldmlld01vZGFsQ2xvc2VCdG4gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2Nsb3NlX3R5cGVfcHJldmlld1wiXG4pO1xuY29uc3QgcHJldmlld0ltYWdlRWwgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5jb25zdCBwcmV2aWV3TmFtZUVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpXG4gIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbmNvbnN0IERlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XG5jb25zdCBEZWxldGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19kZWxldGUtYnRuXCIpO1xuY29uc3QgQ2FuY2VsQnRuID0gRGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ0bjJcIik7XG5jb25zdCBDbG9zZUJ0bkRlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0bi1wb3NpdGlvblwiKTtcblxuLy9mdW5jYXRpb25hbGl0eSBhZGRlZCB0byBjbG9zZSBidXR0b25cbkNsb3NlQnRuRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNsb3NlTW9kYWwoRGVsZXRlTW9kYWwpO1xufSk7XG5cbi8vZnVuY3Rpb25hbGl0eSBhZGRlZCB0byBjYW5jZWwgYnV0dG9uIGhlcmVcbkNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBjbG9zZU1vZGFsKERlbGV0ZU1vZGFsKTtcbn0pO1xuXG4vLyBWYXJpYWJsZXMgdG8gc3RvcmUgdGhlIHNlbGVjdGVkIGNhcmQgZm9yIGRlbGV0aW9uXG5sZXQgc2VsZWN0ZWRDYXJkSWQ7XG5sZXQgc2VsZWN0ZWRDYXJkO1xuXG4vLyAxLiBMb2FkaW5nIHVzZXIgaW5mbyBmcm9tIHRoZSBzZXJ2ZXJcbmFwaVxuICAuZ2V0VXNlckluZm8oKVxuICAudGhlbigodXNlckRhdGEpID0+IHtcbiAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHVzZXJEYXRhLm5hbWU7XG4gICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7XG4gICAgcHJvZmlsZUF2YXRhci5zcmMgPSB1c2VyRGF0YS5hdmF0YXI7XG4gICAgY29uc29sZS5sb2codXNlckRhdGEpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbi8vIDIuIExvYWRpbmcgY2FyZHMgZnJvbSB0aGUgc2VydmVyXG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChDYXJkc3NEYXRhKSA9PiB7XG4gICAgQ2FyZHNzRGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWwgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcbiAgICAgIGNhcmRMaXN0LmFwcGVuZChjYXJkRWwpO1xuICAgICAgY29uc29sZS5sb2coQ2FyZHNzRGF0YSk7XG4gICAgfSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuLy8gTmV3IEZ1bmN0aW9uc1xuZnVuY3Rpb24gaGFuZGxlRXNjYXBlS2V5KGV2dCkge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IG9wZW5lZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9pcy1vcGVuZWRcIik7XG4gICAgaWYgKG9wZW5lZE1vZGFsKSB7XG4gICAgICBjbG9zZU1vZGFsKG9wZW5lZE1vZGFsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlT3ZlcmxheUNsaWNrKGV2dCkge1xuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9pcy1vcGVuZWRcIikpIHtcbiAgICBjbG9zZU1vZGFsKGV2dC50YXJnZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGVLZXkpO1xuICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlT3ZlcmxheUNsaWNrKTtcbn1cblxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGVLZXkpO1xuICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlT3ZlcmxheUNsaWNrKTtcbn1cblxuLy8gRWRpdCBQcm9maWxlIEJ1dHRvbiBMaXN0ZW5lcnNcbmVkaXRQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIHJlc2V0VmFsaWRhdGlvbihlZGl0UHJvZmlsZUZvcm1FbCwgc2V0dGluZ3MsIFtcbiAgICBlZGl0UHJvZmlsZU5hbWVJbnB1dCxcbiAgICBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXG4gIF0pO1xuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG4gIGVkaXRQcm9maWxlTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcbn0pO1xuXG5lZGl0UHJvZmlsZUNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG59KTtcblxuLy9jbG9zZSBwcmV2aWV3IGJ1dHRvbiBldmVudCBhZGRlZFxucHJldmlld01vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChwcmV2aWV3TW9kYWwpO1xufSk7XG5cbi8vIE5ldyBQb3N0IEJ1dHRvbiBMaXN0ZW5lcnNcbm5ld1Bvc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgb3Blbk1vZGFsKG5ld1Bvc3RNb2RhbCk7XG59KTtcblxubmV3UG9zdENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcbn0pO1xuXG4vLyBFZGl0IFByb2ZpbGUgYWRkaW5nIGZ1bmN0aW9uYWxpdHlcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgYXBpXG4gICAgLmVkaXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSxcbiAgICAgIGFib3V0OiBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgfSlcbiAgICAudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVzZXJEYXRhLmFib3V0O1xuICAgICAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSk7XG59XG5lZGl0UHJvZmlsZUZvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcblxuLy8gTmV3IFBvc3QgYWRkaW5nIGZ1bmN0aW9uYWxpdHlcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBpbnB1dFZhbHVlcyA9IHtcbiAgICBuYW1lOiBlZGl0UG9zdERlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgbGluazogZWRpdFBvc3ROYW1lSW5wdXQudmFsdWUsXG4gIH07XG4gIGFwaVxuICAgIC5hZGRDYXJkKGlucHV0VmFsdWVzKVxuICAgIC50aGVuKChuZXdDYXJkRGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChuZXdDYXJkRGF0YSk7XG4gICAgICBjYXJkTGlzdC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgICAgIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICAgIGVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KTtcbn1cbmVkaXRQb3N0Rm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XG5cbi8vRGVsZXRlQnRuIGlzIHRoZSBvbmUgd2Ugd2FudCB0byBhZGQgZXZlbnQgY2xpY2sgYW5kIHJ1biBhcGkuRGVsZXRlQ2FyZFxuRGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgYXBpXG4gICAgLkRlbGV0ZUNhcmQoeyBpZDogc2VsZWN0ZWRDYXJkSWQgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICAvLyBSZW1vdmUgdGhlIGNhcmQgZWxlbWVudCBmcm9tIHRoZSBET00gYWZ0ZXIgc3VjY2Vzc2Z1bCBkZWxldGlvbi5cbiAgICAgIHNlbGVjdGVkQ2FyZC5yZW1vdmUoKTtcbiAgICAgIC8vIENsb3NlIHRoZSBtb2RhbC5cbiAgICAgIGNsb3NlTW9kYWwoRGVsZXRlTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KTtcbn0pO1xuXG4vL0FyZSB5b3Ugc3VyZSBNb2RhbFxuXG4vL0VkaXRwcm9maWxlYXZhdGFyIChNRUFOVCBUTyBPUEVOIEEgTU9EQUwpXG5jb25zdCBhdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxfX2F2YXRhclwiKTtcbmNvbnN0IHByb2ZpbGVhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idG5cIik7XG4vL1N1Ym1pdCBBdmF0YXIgbGluayBCdXR0b24gKHNlbmRzIGEgYXBpIHJlcXVlc3QgdG8gcmVwbGFjZSB0aGUgaW1hZ2UvYXZhdGFyOmltYWdlKVxuY29uc3QgU3VibWl0QnV0dG9uQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtYXZhdGFyLWJ0blwiKTtcbmNvbnN0IGVkaXRBdmF0YXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjQXZhdGFyLWltYWdlLWlucHV0XCIpO1xuLy9kZWNsYXJlZFxuLy9hdmF0YXJNb2RhbCA9IG1vZGFsIGRpdlxuY29uc3QgWEJ1dHRvbkF2YXRhciA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcblxuLy9jbG9zZSBhdmF0YXIgYnV0dG9uIGV2ZW50IGFkZGVkXG5YQnV0dG9uQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xufSk7XG5cbi8vYWRkIGV2ZW50bGlzdG5lciB0byBhdmF0ZXIgZWRpdFxucHJvZmlsZWF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIC8vIHN0b3AgdGhlIHBhZ2UgdG8gcmVsb2FkXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIC8vIG9wZW5zIGF2YXRhck1vZGFsXG4gIG9wZW5Nb2RhbChhdmF0YXJNb2RhbCk7XG59KTtcblxuU3VibWl0QnV0dG9uQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCB1cmxhdmF0YXIgPSBlZGl0QXZhdGFySW5wdXQudmFsdWU7XG4gIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgYXZhdGFyIHVwZGF0ZSB3aXRoOlwiLCB1cmxhdmF0YXIpO1xuICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgcHJvZmlsZUF2YXRhcjpcIiwgcHJvZmlsZUF2YXRhcik7XG5cbiAgYXBpXG4gICAgLmVkaXRBdmF0YXIoeyBhdmF0YXI6IHVybGF2YXRhciB9KVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJBUEkgY2FsbCByZXNvbHZlZCBzdWNjZXNzZnVsbHk6XCIsIHJlc3BvbnNlKTtcbiAgICAgIC8vIEluc3RlYWQgb2YgcmVhc3NpZ25pbmcsIHVwZGF0ZSB0aGUgc3JjIGF0dHJpYnV0ZVxuICAgICAgcHJvZmlsZUF2YXRhci5zcmMgPSB1cmxhdmF0YXI7XG4gICAgICBjbG9zZU1vZGFsKGF2YXRhck1vZGFsKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkFQSSBjYWxsIGZhaWxlZCB3aXRoIGVycm9yOlwiLCBlcnIpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRldGFpbHM6XCIsIGVyci5yZXNwb25zZT8uZGF0YSB8fCBlcnIubWVzc2FnZSk7XG4gICAgfSk7XG59KTtcblxuLy8gTWFrZSBHZXQgQ2FyZCBGdW5jdGlvblxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gIGNvbnN0IGNhcmRUaXRsZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgY29uc3QgY2FyZEltYWdlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICBjb25zdCBjYXJkTGlrZWJ0bkVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcbiAgY29uc3QgY2FyZGRlbGV0ZWJ0biA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlXCIpO1xuXG4gIC8vIFNldCB0aGUgaW1hZ2UgYW5kIHRpdGxlIGZyb20gdGhlIGRhdGFcbiAgY2FyZEltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xuICBjYXJkSW1hZ2VFbC5hbHQgPSBkYXRhLm5hbWU7XG4gIGNhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuXG4gIC8vIFNldCBpbml0aWFsIGxpa2Ugc3RhdGUgYmFzZWQgb24gc2VydmVyIGRhdGFcbiAgaWYgKGRhdGEuaXNMaWtlZCkge1xuICAgIGNhcmRMaWtlYnRuRWwuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIC8vIExpa2UvVW5saWtlIGZ1bmN0aW9uYWxpdHlcbiAgY2FyZExpa2VidG5FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGlzQ3VycmVudGx5TGlrZWQgPSBjYXJkTGlrZWJ0bkVsLmNsYXNzTGlzdC5jb250YWlucyhcbiAgICAgIFwiY2FyZF9fbGlrZS1idG5fYWN0aXZlXCJcbiAgICApO1xuICAgIGFwaVxuICAgICAgLkNoYW5nZUxpa2VzKHsgaWQ6IGRhdGEuX2lkLCBpc0xpa2VkOiBpc0N1cnJlbnRseUxpa2VkIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmRMaWtlYnRuRWwuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBsaWtlIHN0YXR1czpcIiwgZXJyb3IpO1xuICAgICAgfSk7XG4gIH0pO1xuXG4gIC8vIERlbGV0ZSBjYXJkIGZ1bmN0aW9uYWxpdHlcbiAgY2FyZGRlbGV0ZWJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIHNlbGVjdGVkQ2FyZElkID0gZGF0YS5faWQ7XG4gICAgc2VsZWN0ZWRDYXJkID0gY2FyZEVsZW1lbnQ7XG4gICAgb3Blbk1vZGFsKERlbGV0ZU1vZGFsKTtcbiAgfSk7XG5cbiAgLy8gUHJldmlldyBmdW5jdGlvbmFsaXR5XG4gIGNhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgcHJldmlld0ltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xuICAgIHByZXZpZXdJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcbiAgICBwcmV2aWV3TmFtZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xuICB9KTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbi8vIHByb2ZpbGVBdmF0YXJcbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuIiwiLy8gdXRpbHMvQXBpLmpzXG5cbmNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIERlbGV0ZUNhcmQoeyBpZCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIENoYW5nZUxpa2VzKHsgaWQsIGlzTGlrZWQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGVkaXRBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWwiLCJpbnB1dEVsIiwiY29uZmlnIiwiZXJyb3JNc2dJRCIsImlkIiwiZXJyb3JNc2dFbCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRpc2FibGVCdXR0b24iLCJidXR0b25FbCIsImRpc2FibGVkIiwiYWRkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZW5hYmxlQnV0dG9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyIsInZhbGlkYXRpb25NZXNzYWdlIiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2hhbmRsZVNlcnZlclJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0SW5pdGlhbENhcmRzIiwiZWRpdFVzZXJJbmZvIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwibGluayIsIkRlbGV0ZUNhcmQiLCJDaGFuZ2VMaWtlcyIsImlzTGlrZWQiLCJlZGl0QXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImVkaXRQcm9maWxlQnRuIiwiZWRpdFByb2ZpbGVNb2RhbCIsImVkaXRQcm9maWxlQ2xvc2VCdG4iLCJlZGl0UHJvZmlsZUZvcm1FbCIsImVkaXRQcm9maWxlTmFtZUlucHV0IiwiZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUF2YXRhciIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwibmV3UG9zdEJ0biIsIm5ld1Bvc3RNb2RhbCIsIm5ld1Bvc3RDbG9zZUJ0biIsImVkaXRQb3N0Rm9ybUVsIiwiZWRpdFBvc3ROYW1lSW5wdXQiLCJlZGl0UG9zdERlc2NyaXB0aW9uSW5wdXQiLCJjYXJkTGlzdCIsInByZXZpZXdNb2RhbCIsInByZXZpZXdNb2RhbENsb3NlQnRuIiwicHJldmlld0ltYWdlRWwiLCJwcmV2aWV3TmFtZUVsIiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsIkRlbGV0ZU1vZGFsIiwiRGVsZXRlQnRuIiwiQ2FuY2VsQnRuIiwic2VsZWN0ZWRDYXJkSWQiLCJzZWxlY3RlZENhcmQiLCJoYW5kbGVFc2NhcGVLZXkiLCJldnQiLCJrZXkiLCJvcGVuZWRNb2RhbCIsImNsb3NlTW9kYWwiLCJoYW5kbGVPdmVybGF5Q2xpY2siLCJ0YXJnZXQiLCJjb250YWlucyIsIm9wZW5Nb2RhbCIsIm1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVzZXJEYXRhIiwic3JjIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJDYXJkc3NEYXRhIiwiaXRlbSIsImNhcmRFbCIsImdldENhcmRFbGVtZW50IiwiYXBwZW5kIiwicmVzZXRWYWxpZGF0aW9uIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0VmFsdWVzIiwibmV3Q2FyZERhdGEiLCJjYXJkRWxlbWVudCIsInByZXBlbmQiLCJyZXNldCIsImV2ZW50IiwiYXZhdGFyTW9kYWwiLCJwcm9maWxlYXZhdGFyQnV0dG9uIiwiU3VibWl0QnV0dG9uQXZhdGFyIiwiZWRpdEF2YXRhcklucHV0IiwiZGF0YSIsImNsb25lTm9kZSIsImNhcmRUaXRsZUVsIiwiY2FyZEltYWdlRWwiLCJjYXJkTGlrZWJ0bkVsIiwiY2FyZGRlbGV0ZWJ0biIsImFsdCIsImlzQ3VycmVudGx5TGlrZWQiLCJfaWQiLCJ0b2dnbGUiLCJ1cmxhdmF0YXIiLCJyZXNwb25zZSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9